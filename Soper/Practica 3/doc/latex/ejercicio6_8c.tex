\hypertarget{ejercicio6_8c}{\section{ejercicio6.\+c File Reference}
\label{ejercicio6_8c}\index{ejercicio6.\+c@{ejercicio6.\+c}}
}


El ejercicio 6 de la Practica 3 S\+O\+P\+E\+R.  


{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$sys/wait.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/ipc.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$sys/shm.\+h$>$}\\*
{\ttfamily \#include $<$signal.\+h$>$}\\*
{\ttfamily \#include \char`\"{}semaforos.\+h\char`\"{}}\\*
Include dependency graph for ejercicio6.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ejercicio6_8c__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structinfo}{info}
\begin{DoxyCompactList}\small\item\em Variables compartidas. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{ejercicio6_8c_a68c15c5fb7f7c6f707903e6a46ab0557}{F\+I\+L\+E\+K\+E\+Y}~\char`\"{}/bin/cat\char`\"{}
\item 
\#define \hyperlink{ejercicio6_8c_a8ae9d53f33f46cfcfcb9736e6351452a}{K\+E\+Y}~1300
\item 
\#define \hyperlink{ejercicio6_8c_a0240ac851181b84ac374872dc5434ee4}{N}~100
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{ejercicio6_8c_a52fb52fc24949b9c5e24d67f8249e0bb}{cruzando} (pid\+\_\+t pid, int dir)
\begin{DoxyCompactList}\small\item\em cruzando Imprime por pantalla cuando empieza y termina de usar el recurso \end{DoxyCompactList}\item 
void \hyperlink{ejercicio6_8c_a399eb5cae3f6bbedf44139db5c6c746a}{light\+Switch\+On} (int id\+Mutex, int id\+Recurso, \hyperlink{structinfo}{info} $\ast$buffer, int dir)
\begin{DoxyCompactList}\small\item\em light\+Switch\+On Para pedir el uso del recurso \end{DoxyCompactList}\item 
void \hyperlink{ejercicio6_8c_a69738f15e3376259e4a558cc55e49bd1}{light\+Switch\+Off} (int id\+Mutex, int id\+Recurso, \hyperlink{structinfo}{info} $\ast$buffer, int dir)
\begin{DoxyCompactList}\small\item\em light\+Switch\+Off Indicar que ya has usado el recurso \end{DoxyCompactList}\item 
\hyperlink{ejercicio6_8c_acf22f90c8a4451fe10db34ea170451b5}{coche} (int id\+Mut, int id\+Rec, \hyperlink{structinfo}{info} $\ast$buffer, int dir)
\begin{DoxyCompactList}\small\item\em coche Lo que realiza cada proceso simula que es un coche y quiere cruzar un puente(recurso) \end{DoxyCompactList}\item 
int \hyperlink{ejercicio6_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Varios procesos compiten por un recurso Se creean 100 procesos, 50 se les asigna una direccion y los otros la otra, y compiten por el uso de un recurso. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
El ejercicio 6 de la Practica 3 S\+O\+P\+E\+R. 

\begin{DoxyAuthor}{Author}
Oscar Garcia de Lara Parre√±o 

Santiago Gomez Aguirre 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
28-\/03-\/2016 
\end{DoxyDate}


\subsection{Macro Definition Documentation}
\hypertarget{ejercicio6_8c_a68c15c5fb7f7c6f707903e6a46ab0557}{\index{ejercicio6.\+c@{ejercicio6.\+c}!F\+I\+L\+E\+K\+E\+Y@{F\+I\+L\+E\+K\+E\+Y}}
\index{F\+I\+L\+E\+K\+E\+Y@{F\+I\+L\+E\+K\+E\+Y}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{F\+I\+L\+E\+K\+E\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+I\+L\+E\+K\+E\+Y~\char`\"{}/bin/cat\char`\"{}}}\label{ejercicio6_8c_a68c15c5fb7f7c6f707903e6a46ab0557}
Fichero para sacar la key \hypertarget{ejercicio6_8c_a8ae9d53f33f46cfcfcb9736e6351452a}{\index{ejercicio6.\+c@{ejercicio6.\+c}!K\+E\+Y@{K\+E\+Y}}
\index{K\+E\+Y@{K\+E\+Y}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{K\+E\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+E\+Y~1300}}\label{ejercicio6_8c_a8ae9d53f33f46cfcfcb9736e6351452a}
Numero para sacar la key \hypertarget{ejercicio6_8c_a0240ac851181b84ac374872dc5434ee4}{\index{ejercicio6.\+c@{ejercicio6.\+c}!N@{N}}
\index{N@{N}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{N}]{\setlength{\rightskip}{0pt plus 5cm}\#define N~100}}\label{ejercicio6_8c_a0240ac851181b84ac374872dc5434ee4}
Numero de procesos a crear 

\subsection{Function Documentation}
\hypertarget{ejercicio6_8c_acf22f90c8a4451fe10db34ea170451b5}{\index{ejercicio6.\+c@{ejercicio6.\+c}!coche@{coche}}
\index{coche@{coche}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{coche}]{\setlength{\rightskip}{0pt plus 5cm}coche (
\begin{DoxyParamCaption}
\item[{int}]{id\+Mut, }
\item[{int}]{id\+Rec, }
\item[{{\bf info} $\ast$}]{buffer, }
\item[{int}]{dir}
\end{DoxyParamCaption}
)}}\label{ejercicio6_8c_acf22f90c8a4451fe10db34ea170451b5}


coche Lo que realiza cada proceso simula que es un coche y quiere cruzar un puente(recurso) 


\begin{DoxyParams}{Parameters}
{\em id\+Mutex} & id del semaforo mutex \\
\hline
{\em id\+Recurso} & id del semaforo del recurso \\
\hline
{\em $\ast$buffer} & direccion para acceder a las variables compartidas \\
\hline
{\em dir} & dirrecion de donde parte el proceso \\
\hline
\end{DoxyParams}
\hypertarget{ejercicio6_8c_a52fb52fc24949b9c5e24d67f8249e0bb}{\index{ejercicio6.\+c@{ejercicio6.\+c}!cruzando@{cruzando}}
\index{cruzando@{cruzando}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{cruzando}]{\setlength{\rightskip}{0pt plus 5cm}void cruzando (
\begin{DoxyParamCaption}
\item[{pid\+\_\+t}]{pid, }
\item[{int}]{dir}
\end{DoxyParamCaption}
)}}\label{ejercicio6_8c_a52fb52fc24949b9c5e24d67f8249e0bb}


cruzando Imprime por pantalla cuando empieza y termina de usar el recurso 


\begin{DoxyParams}{Parameters}
{\em pid} & pid del proceso \\
\hline
{\em dir} & dirrecion de donde parte el proceso \\
\hline
\end{DoxyParams}
\hypertarget{ejercicio6_8c_a69738f15e3376259e4a558cc55e49bd1}{\index{ejercicio6.\+c@{ejercicio6.\+c}!light\+Switch\+Off@{light\+Switch\+Off}}
\index{light\+Switch\+Off@{light\+Switch\+Off}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{light\+Switch\+Off}]{\setlength{\rightskip}{0pt plus 5cm}void light\+Switch\+Off (
\begin{DoxyParamCaption}
\item[{int}]{id\+Mutex, }
\item[{int}]{id\+Recurso, }
\item[{{\bf info} $\ast$}]{buffer, }
\item[{int}]{dir}
\end{DoxyParamCaption}
)}}\label{ejercicio6_8c_a69738f15e3376259e4a558cc55e49bd1}


light\+Switch\+Off Indicar que ya has usado el recurso 


\begin{DoxyParams}{Parameters}
{\em id\+Mutex} & id del semaforo mutex \\
\hline
{\em id\+Recurso} & id del semaforo del recurso \\
\hline
{\em $\ast$buffer} & direccion para acceder a las variables compartidas \\
\hline
{\em dir} & dirrecion de donde parte el proceso \\
\hline
\end{DoxyParams}
\hypertarget{ejercicio6_8c_a399eb5cae3f6bbedf44139db5c6c746a}{\index{ejercicio6.\+c@{ejercicio6.\+c}!light\+Switch\+On@{light\+Switch\+On}}
\index{light\+Switch\+On@{light\+Switch\+On}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{light\+Switch\+On}]{\setlength{\rightskip}{0pt plus 5cm}void light\+Switch\+On (
\begin{DoxyParamCaption}
\item[{int}]{id\+Mutex, }
\item[{int}]{id\+Recurso, }
\item[{{\bf info} $\ast$}]{buffer, }
\item[{int}]{dir}
\end{DoxyParamCaption}
)}}\label{ejercicio6_8c_a399eb5cae3f6bbedf44139db5c6c746a}


light\+Switch\+On Para pedir el uso del recurso 


\begin{DoxyParams}{Parameters}
{\em id\+Mutex} & id del semaforo mutex \\
\hline
{\em id\+Recurso} & id del semaforo del recurso \\
\hline
{\em $\ast$buffer} & direccion para acceder a las variables compartidas \\
\hline
{\em dir} & dirrecion de donde parte el proceso \\
\hline
\end{DoxyParams}
\hypertarget{ejercicio6_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{ejercicio6.\+c@{ejercicio6.\+c}!main@{main}}
\index{main@{main}!ejercicio6.\+c@{ejercicio6.\+c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{ejercicio6_8c_a0ddf1224851353fc92bfbff6f499fa97}


Varios procesos compiten por un recurso Se creean 100 procesos, 50 se les asigna una direccion y los otros la otra, y compiten por el uso de un recurso. 

\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+F\+A\+I\+L\+U\+R\+E en caso de error, E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S si funciona 
\end{DoxyReturn}
